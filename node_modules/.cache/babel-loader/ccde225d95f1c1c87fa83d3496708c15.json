{"ast":null,"code":"var _jsxFileName = \"/home/devhorse/Main/projects/miner/miner-game/src/game.js\";\nimport React from 'react';\nimport Board from './board';\nimport AsideMenu from './aside-menu';\n\nclass Game extends React.Component {\n  constructor(props) {\n    super();\n    this.state = {\n      boardWidth: 0,\n      cells: {},\n      mines: {}\n    };\n\n    this.handleClick = (event, id) => {\n      console.log(id); // console.log(event.target);\n      // if (this.state.gameOver) {\n      //   return;\n      // }\n      // if ( rightClick ) {\n      //   this.handleRightClick();\n      // }\n\n      let currentCell = this.state.cells[id];\n\n      if (!currentCell.opened) {\n        if (!currentCell.flagged) {\n          if (currentCell.mined) {\n            console.log('gameOver');\n          } else {\n            currentCell.opened = true;\n\n            if (!currentCell.minesAround > 0) {\n              let cellsAround = this.getMinesOrCellsAround(this.state.cells, currentCell.id, this.state.mines, 'cells');\n\n              for (let i = 0; i < cellsAround.length; i++) {\n                let cell = cellsAround[i];\n\n                if (this.state.cells[cell] !== undefined && !this.state.cells[cell].flagged && !this.state.cells[cell].opened) {\n                  this.handleClick(cell);\n                }\n              }\n            }\n          }\n        }\n      } // console.log(currentCell);\n\n\n      this.setState({\n        cells: { ...this.state.cells,\n          [id]: currentCell\n        }\n      });\n    };\n\n    this.rightClick = () => {};\n\n    this.gameInit = () => {\n      const sizes = this.getBoardAndCellSize();\n      const newBoardWidth = sizes.boardWidth;\n      const minesObject = this.getRandomMines();\n      const cellsObject = this.getCells(minesObject);\n\n      for (let cell of Object.keys(cellsObject)) {\n        if (!cellsObject[cell].mined) {\n          const newMinesAround = this.getMinesOrCellsAround(cellsObject, cell, minesObject, 'mines');\n          cellsObject[cell].minesAround = newMinesAround;\n        }\n      }\n\n      this.setState({\n        boardWidth: newBoardWidth,\n        cellSize: sizes.cellSize,\n        cells: cellsObject,\n        mines: minesObject\n      });\n    };\n\n    this.getMinesOrCellsAround = (cellsObject, cell, minesObject, mode) => {\n      let row = cellsObject[cell].row;\n      let col = cellsObject[cell].col;\n      let arroundCells = [col + 1 + '/' + row, col - 1 + '/' + row, col + '/' + (row + 1), col + '/' + (row - 1), col + 1 + '/' + (row + 1), col - 1 + '/' + (row - 1), col + 1 + '/' + (row - 1), col - 1 + '/' + (row + 1)];\n      let newMinesAround = 0;\n      let cellsAround = [];\n      arroundCells = arroundCells.forEach(item => {\n        let reg = new RegExp(`^(0\\/)|(\\/0)|(${+this.props.gameDifficult.width + 1}\\/)|(\\/${+this.props.gameDifficult.height + 1})`, 'g');\n\n        if (!item.match(reg)) {\n          if (mode === 'mines') {\n            newMinesAround = minesObject[item] ? newMinesAround += 1 : newMinesAround;\n          } else {\n            cellsAround.push(item);\n          }\n        } else {\n          if (mode === 'mines') {\n            newMinesAround = newMinesAround;\n          } else {\n            return;\n          }\n        }\n      });\n\n      if (mode === 'mines') {\n        return newMinesAround;\n      } else {\n        return cellsAround;\n      }\n    };\n  }\n\n  componentDidMount() {\n    if (this.state.boardWidth === 0) {\n      this.gameInit();\n    }\n  }\n\n  getBoardAndCellSize() {\n    let newCellSize = 90;\n\n    if (this.props.gameDifficult.width === '16') {\n      newCellSize = 45;\n    } else if (this.props.gameDifficult.width === '30') {\n      newCellSize = 35;\n    }\n\n    return {\n      cellSize: newCellSize,\n      boardWidth: +this.props.gameDifficult.width * newCellSize + this.props.gameDifficult.width * 2\n    };\n  }\n\n  getRandomMines() {\n    let mines = 0;\n\n    if (this.props.gameDifficult.width === '8') {\n      mines = 10;\n    } else if (this.props.gameDifficult.width === '16') {\n      mines = 40;\n    } else if (this.props.gameDifficult.width === '30') {\n      mines = 99;\n    }\n\n    let minesObject = {};\n\n    for (let i = 1; i <= mines; i++) {\n      let randomCol = Math.floor(Math.random() * this.props.gameDifficult.width + 1);\n      let randomRow = Math.floor(Math.random() * this.props.gameDifficult.height + 1);\n\n      while (minesObject[randomCol + '/' + randomRow]) {\n        randomCol = Math.floor(Math.random() * this.props.gameDifficult.width + 1);\n        randomRow = Math.floor(Math.random() * this.props.gameDifficult.height + 1);\n      }\n\n      ;\n      minesObject[randomCol + '/' + randomRow] = true;\n    }\n\n    return minesObject;\n  }\n\n  getCells(minesObject) {\n    let cellsObject = {};\n\n    for (let row = 1; row <= this.props.gameDifficult.height; row++) {\n      for (let col = 1; col <= this.props.gameDifficult.width; col++) {\n        let isMined = minesObject[col + '/' + row] ? true : false;\n        cellsObject[col + '/' + row] = {\n          id: col + '/' + row,\n          row: row,\n          col: col,\n          mined: isMined,\n          opened: false,\n          flagged: false,\n          minesAround: 0\n        };\n      }\n    }\n\n    return cellsObject;\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Board, {\n      gameState: this.state,\n      handleClick: this.handleClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(AsideMenu, {\n      handleGameStatus: this.props.handleGameStatus,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nexport default Game;","map":{"version":3,"sources":["/home/devhorse/Main/projects/miner/miner-game/src/game.js"],"names":["React","Board","AsideMenu","Game","Component","constructor","props","state","boardWidth","cells","mines","handleClick","event","id","console","log","currentCell","opened","flagged","mined","minesAround","cellsAround","getMinesOrCellsAround","i","length","cell","undefined","setState","rightClick","gameInit","sizes","getBoardAndCellSize","newBoardWidth","minesObject","getRandomMines","cellsObject","getCells","Object","keys","newMinesAround","cellSize","mode","row","col","arroundCells","forEach","item","reg","RegExp","gameDifficult","width","height","match","push","componentDidMount","newCellSize","randomCol","Math","floor","random","randomRow","isMined","render","handleGameStatus"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Board from './board';\nimport AsideMenu from './aside-menu';\n\nclass Game extends React.Component {\n  constructor(props) {\n    super();\n  }\n\n  state = {\n    boardWidth: 0,\n    cells: {},\n    mines: {}\n  }\n\n  componentDidMount() {\n    if (this.state.boardWidth === 0) {\n      this.gameInit();\n    }\n  }\n\n  handleClick = (event, id) => {\n    \n    console.log(id);\n    // console.log(event.target);\n    // if (this.state.gameOver) {\n    //   return;\n    // }\n    \n    // if ( rightClick ) {\n    //   this.handleRightClick();\n    // }\n\n    let currentCell = this.state.cells[id];\n\n    if (!currentCell.opened) {\n      if (!currentCell.flagged) {\n        if (currentCell.mined) {\n\n          console.log('gameOver');\n        } else {\n          currentCell.opened = true;\n\n          if (!currentCell.minesAround > 0) {\n            let cellsAround = this.getMinesOrCellsAround(this.state.cells, currentCell.id, this.state.mines, 'cells');\n\n            for( let i = 0; i < cellsAround.length; i++) {\n              let cell = cellsAround[i];\n              if (\n                this.state.cells[cell] !== undefined &&\n                !this.state.cells[cell].flagged && \n                !this.state.cells[cell].opened\n              ) {\n                this.handleClick(cell);\n              }\n            }\n          }\n        }\n      }\n    }\n \n    // console.log(currentCell);\n  \n    this.setState({\n      cells: {\n        ...this.state.cells,\n        [id]: currentCell\n      } \n    })\n\n  }\n\n  rightClick = () => {\n\n  }\n\n  gameInit = () => {\n    const sizes = this.getBoardAndCellSize();\n    const newBoardWidth = sizes.boardWidth;\n    const minesObject = this.getRandomMines();\n    const cellsObject = this.getCells(minesObject);\n\n   \n    for (let cell of Object.keys(cellsObject)) {\n        if (!cellsObject[cell].mined) {\n\n          const newMinesAround = this.getMinesOrCellsAround(cellsObject, cell, minesObject, 'mines');\n          cellsObject[cell].minesAround = newMinesAround;\n        }\n    }\n   \n      \n    this.setState({\n      boardWidth: newBoardWidth,\n      cellSize: sizes.cellSize,\n      cells: cellsObject,\n      mines: minesObject\n    });\n  }\n\n  getBoardAndCellSize() {\n    let newCellSize = 90;\n\n    if (this.props.gameDifficult.width === '16') {\n      newCellSize = 45;\n    }  else if (this.props.gameDifficult.width === '30') {\n      newCellSize = 35;\n    }\n  \n    return {\n      cellSize: newCellSize,\n      boardWidth: +this.props.gameDifficult.width * newCellSize + (this.props.gameDifficult.width * 2)\n    }    \n  }\n\n  getRandomMines() {\n\n    let mines = 0;\n\n    if (this.props.gameDifficult.width === '8') {\n      mines = 10;\n    } else if (this.props.gameDifficult.width === '16') {\n      mines = 40;\n    } else if (this.props.gameDifficult.width === '30') {\n      mines = 99;\n    }\n\n    let minesObject = {};\n\n    for (let i = 1; i <= mines; i++) {\n      let randomCol = Math.floor(Math.random() * this.props.gameDifficult.width + 1);\n      let randomRow = Math.floor(Math.random() * this.props.gameDifficult.height + 1);\n      while (minesObject[randomCol + '/' + randomRow]) {\n        randomCol = Math.floor(Math.random() * this.props.gameDifficult.width + 1);\n        randomRow = Math.floor(Math.random() * this.props.gameDifficult.height + 1);\n      };\n      minesObject[randomCol + '/' + randomRow] = true;\n    }\n\n    return minesObject;\n  }\n\n  getCells(minesObject) {\n\n    let cellsObject = {};\n\n    for (let row = 1; row <= this.props.gameDifficult.height; row++) {\n      for (let col = 1; col <= this.props.gameDifficult.width; col++) {\n        let isMined = minesObject[col + '/' + row] ? true : false;\n\n        cellsObject[col + '/' + row] = {\n          id: col + '/' + row,\n          row: row,\n          col: col,\n          mined: isMined,\n          opened: false,\n          flagged: false,\n          minesAround: 0\n        };\n      }\n    }\n\n    return cellsObject;\n  }\n\n  getMinesOrCellsAround = (cellsObject, cell, minesObject, mode) => {\n    let row = cellsObject[cell].row;\n    let col = cellsObject[cell].col;\n    \n    let arroundCells = [\n      (col + 1) + '/' + (row),\n      (col - 1) + '/' + (row),\n      (col) + '/' + (row + 1),\n      (col) + '/' + (row - 1),\n      (col + 1) + '/' + (row + 1),\n      (col - 1) + '/' + (row - 1),\n      (col + 1) + '/' + (row - 1),\n      (col - 1) + '/' + (row + 1)\n    ];\n\n    let newMinesAround = 0;\n    let cellsAround = [];\n\n    arroundCells = arroundCells.forEach(item => {\n\n      let reg = new RegExp(\n        `^(0\\/)|(\\/0)|(${+this.props.gameDifficult.width + 1}\\/)|(\\/${+this.props.gameDifficult.height + 1})`,\n        'g'\n      );\n  \n      if (!item.match(reg)) {\n        if (mode === 'mines') {\n          newMinesAround = minesObject[item] ?  newMinesAround += 1 : newMinesAround;\n        } else {\n          cellsAround.push(item);\n        }\n      } else {\n        if (mode === 'mines') {\n          newMinesAround = newMinesAround;\n        } else {\n          return;\n        }\n      }\n    });\n   \n    if (mode === 'mines') {\n      return newMinesAround;\n    } else {\n      return cellsAround;\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"container\">\n        <Board gameState={this.state} handleClick={this.handleClick}/>\n        <AsideMenu handleGameStatus={this.props.handleGameStatus} />\n      </div>\n    );\n  }\n}\n\nexport default Game;"]},"metadata":{},"sourceType":"module"}