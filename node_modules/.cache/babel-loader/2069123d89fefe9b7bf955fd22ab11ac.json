{"ast":null,"code":"var _jsxFileName = \"/home/devhorse/Main/projects/REACT/miner/miner-game/src/aside-menu.js\";\nimport React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faClock } from '@fortawesome/free-regular-svg-icons';\nimport { faFlag } from '@fortawesome/free-solid-svg-icons';\n\nclass AsideMenu extends React.Component {\n  constructor(props) {\n    super();\n\n    this.handleDificult = event => {\n      event.preventDefault();\n      this.props.handleGameStatus({}, false);\n    };\n\n    this.handlePause = () => {\n      if (this.state.init) {\n        this.props.handlePause(true);\n        this.setState({\n          init: false\n        });\n      } else {\n        let timeDifference = new Date().getTime() - this.state.startTime - this.state.timePassed;\n        this.props.handlePause(false);\n        this.setState({\n          startTime: this.state.startTime + timeDifference,\n          init: true\n        });\n      }\n    };\n\n    this.componentDidUpdate = () => {\n      if (this.props.gameWon && !this.props.score) {\n        this.props.handleWonScore(this.state.time);\n      }\n    };\n\n    this.getFlagsCounter = () => {\n      const setMines = this.props.flags.set;\n      const allMines = this.props.flags.all;\n      return `${setMines}/${allMines}`;\n    };\n\n    this.handleCheat = event => {\n      event.preventDefault();\n      const password = prompt('Password: ', '');\n\n      if (password === '111') {\n        this.props.handleCheat();\n      }\n    };\n\n    this.state = {\n      startTime: new Date().getTime(),\n      timePassed: '',\n      time: '00:00',\n      init: true\n    };\n  }\n\n  render() {\n    let timer;\n\n    if (this.state.init && this.props.gameInit) {\n      timer = setTimeout(() => {\n        const newDate = new Date().getTime();\n        const time = Math.floor((newDate - this.state.startTime) / 1000);\n        const seconds = time % 60;\n        const minutes = Math.floor(time / 60);\n        this.setState({\n          timePassed: newDate - this.state.startTime,\n          time: (minutes < 10 ? '0' : '') + minutes + ':' + (seconds < 10 ? '0' : '') + seconds\n        });\n      }, 1000);\n    } else {\n      clearInterval(timer);\n    }\n\n    if (this.props.gameOver || this.props.gameWon) {\n      clearInterval(timer);\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"aside-menu\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"menu-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faFlag,\n      style: {\n        fontSize: '30px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }\n    }, this.getFlagsCounter())), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faClock,\n      style: {\n        fontSize: '30px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }\n    }, this.state.time))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"menu-btn menu-btn-active\",\n      onClick: this.handleCheat,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }\n    }, \"Cheat for test\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"menu-footer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"menu-btn\",\n      onClick: this.props.restartGame,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 11\n      }\n    }, \"\\u041D\\u0430\\u0447\\u0430\\u0442\\u044C \\u0441\\u043D\\u0430\\u0447\\u0430\\u043B\\u0430\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"menu-btn\",\n      onClick: this.handleDificult,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 11\n      }\n    }, \"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u0441\\u043B\\u043E\\u0436\\u043D\\u043E\\u0441\\u0442\\u044C\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"menu-btn\",\n      onClick: this.handlePause,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }\n    }, \"\\u041F\\u0430\\u0443\\u0437\\u0430\")));\n  }\n\n}\n\nexport default AsideMenu;","map":{"version":3,"sources":["/home/devhorse/Main/projects/REACT/miner/miner-game/src/aside-menu.js"],"names":["React","FontAwesomeIcon","faClock","faFlag","AsideMenu","Component","constructor","props","handleDificult","event","preventDefault","handleGameStatus","handlePause","state","init","setState","timeDifference","Date","getTime","startTime","timePassed","componentDidUpdate","gameWon","score","handleWonScore","time","getFlagsCounter","setMines","flags","set","allMines","all","handleCheat","password","prompt","render","timer","gameInit","setTimeout","newDate","Math","floor","seconds","minutes","clearInterval","gameOver","fontSize","restartGame"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faClock } from '@fortawesome/free-regular-svg-icons';\nimport { faFlag } from '@fortawesome/free-solid-svg-icons';\n\nclass AsideMenu extends React.Component {\n  constructor(props) {\n    super();\n    this.state = {\n      startTime: new Date().getTime(),\n      timePassed: '',\n      time: '00:00',\n      init: true\n    }\n  }\n\n  handleDificult = (event) => {\n    event.preventDefault();\n    this.props.handleGameStatus({}, false);\n  }\n\n  handlePause = () => {\n    if (this.state.init) {\n      this.props.handlePause(true);\n      this.setState({\n        init: false\n      })\n    } else {\n\n      let timeDifference = new Date().getTime() - this.state.startTime - this.state.timePassed;\n\n      this.props.handlePause(false);\n      this.setState({\n        startTime: this.state.startTime + timeDifference,\n        init: true\n      })\n    }\n  }\n\n  componentDidUpdate = () => {\n    if (this.props.gameWon && !this.props.score) {\n      this.props.handleWonScore(this.state.time);\n    }\n  }\n\n  getFlagsCounter = () => {\n    const setMines = this.props.flags.set;\n    const allMines = this.props.flags.all;\n\n    return (`${setMines}/${allMines}`);\n  };\n\n  handleCheat = (event) => {\n    event.preventDefault();\n\n    const password = prompt('Password: ', '');\n\n    if (password === '111') {\n      this.props.handleCheat();\n    } \n  }\n\n  render () {\n\n    let timer;\n\n    if (this.state.init && this.props.gameInit) {\n      timer = setTimeout(() => {\n        const newDate = new Date().getTime();\n        const time = Math.floor((newDate - this.state.startTime) / 1000);\n        const seconds = time % 60;\n        const minutes = Math.floor(time / 60);\n          this.setState({\n            timePassed: newDate - this.state.startTime,\n            time: (minutes < 10 ? '0' : '') + minutes + ':' + (seconds < 10 ? '0' : '') +seconds\n          })\n      }, 1000);\n    } else {\n      clearInterval(timer);\n    }\n\n    if (this.props.gameOver || this.props.gameWon) {\n      clearInterval(timer);\n    }\n \n    return (\n      <div className=\"aside-menu\">\n        <div className=\"menu-header\">\n          <div className=\"header-block\">\n          <FontAwesomeIcon icon={faFlag} style={{fontSize: '30px'}}/>\n            <div>\n              {this.getFlagsCounter()}\n            </div>\n          </div>\n\n          <div className=\"header-block\">\n          <FontAwesomeIcon icon={faClock} style={{fontSize: '30px'}}/>\n            <div>{this.state.time}</div>\n          </div>\n        </div>\n\n        {/* Cheat Button */}\n        <div>\n          <button\n            className=\"menu-btn menu-btn-active\"  \n            onClick={this.handleCheat}>Cheat for test</button>\n        </div>\n        {/* End Cheat Button */}\n\n        <div className=\"menu-footer\">\n          <button\n           className=\"menu-btn\"\n           onClick={this.props.restartGame}\n          >\n            Начать сначала\n          </button>\n          <button \n            className=\"menu-btn\" \n            onClick={this.handleDificult}\n          >\n            Изменить сложность\n          </button>\n          <button \n            className=\"menu-btn\" \n            onClick={this.handlePause}\n          >\n            Пауза\n          </button>\n        </div>\n        \n      </div>\n    );\n  }\n}\n\nexport default AsideMenu;"]},"metadata":{},"sourceType":"module"}