{"ast":null,"code":"var _jsxFileName = \"/home/devhorse/Main/projects/miner/miner-game/src/board.js\";\nimport React from 'react';\nimport Ceil from './ceil';\n\nclass Board extends React.Component {\n  constructor(props) {\n    super();\n    this.state = {\n      boardWidth: 0,\n      ceilSize: 0\n    };\n\n    this.setBoardWidth = () => {\n      let newCeilSize = 60;\n\n      if (this.props.gameDifficult.width === '16') {\n        newCeilSize = 30;\n      } else if (this.props.gameDifficult.width === '30') {\n        newCeilSize = 30;\n      }\n\n      let newBoardWidth = +this.props.gameDifficult.width * newCeilSize + this.props.gameDifficult.width * 2;\n      this.setState({\n        boardWidth: newBoardWidth,\n        ceilSize: newCeilSize\n      });\n    };\n\n    this.getCeil = () => {\n      let ceilArray = [];\n      let mines = 0;\n\n      if (this.props.gameDifficult.width === '8') {\n        mines = 10;\n      } else if (this.props.gameDifficult.width === '16') {\n        mines = 40;\n      } else if (this.props.gameDifficult.width === '30') {\n        mines = 99;\n      }\n\n      let minesArray = [];\n\n      for (let i = 1; i <= mines; i++) {\n        let randomWidth = Math.floor(Math.random() * this.props.gameDifficult.width + 1);\n        let randomHeight = Math.floor(Math.random() * this.props.gameDifficult.height + 1);\n        minesArray.push([randomWidth, randomHeight]);\n      } // console.log(minesArray);\n\n\n      for (let i = 1; i <= this.props.gameDifficult.height; i++) {\n        for (let j = 1; j <= this.props.gameDifficult.width; j++) {\n          let currentCeil = [j, i];\n          let isMine = false;\n          minesArray.forEach(mine => {\n            if (mine[0] === currentCeil[0] && mine[1] === currentCeil[1]) {\n              isMine = true;\n            }\n          });\n          console.log(isMine ? 'mine' : 'noMine');\n          ceilArray.push( /*#__PURE__*/React.createElement(Ceil, {\n            key: Math.random() * 1000 + j * i,\n            ceilCords: {\n              width: j,\n              heigth: i\n            },\n            ceilOptions: {\n              mine: isMine\n            },\n            styleOptions: {\n              width: this.state.ceilSize,\n              height: this.state.ceilSize\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 11\n            }\n          }));\n        }\n      }\n\n      return ceilArray;\n    };\n  }\n\n  componentDidMount() {\n    if (this.state.boardWidth === 0) {\n      this.setBoardWidth();\n    }\n  }\n\n  render() {\n    // console.log(this.state);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"board\",\n      style: {\n        width: `${this.state.boardWidth}px`\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 7\n      }\n    }, this.getCeil());\n  }\n\n}\n\nexport default Board;","map":{"version":3,"sources":["/home/devhorse/Main/projects/miner/miner-game/src/board.js"],"names":["React","Ceil","Board","Component","constructor","props","state","boardWidth","ceilSize","setBoardWidth","newCeilSize","gameDifficult","width","newBoardWidth","setState","getCeil","ceilArray","mines","minesArray","i","randomWidth","Math","floor","random","randomHeight","height","push","j","currentCeil","isMine","forEach","mine","console","log","heigth","componentDidMount","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Ceil from './ceil';\n\nclass Board extends React.Component {\n  constructor(props) {\n    super();\n  }\n\n  state = {\n    boardWidth: 0,\n    ceilSize: 0\n  }\n\n  componentDidMount() {\n    if (this.state.boardWidth === 0) {\n      this.setBoardWidth();\n    }\n  }\n\n  setBoardWidth = () => {\n    let newCeilSize = 60;\n\n    if (this.props.gameDifficult.width === '16') {\n      newCeilSize = 30;\n    }  else if (this.props.gameDifficult.width === '30') {\n      newCeilSize = 30;\n    }\n   \n    let newBoardWidth = +this.props.gameDifficult.width * newCeilSize + (this.props.gameDifficult.width * 2);\n  \n    this.setState({\n      boardWidth: newBoardWidth,\n      ceilSize: newCeilSize\n    })\n  }\n\n  getCeil = () => {\n    let ceilArray = [];\n    let mines = 0;\n    if (this.props.gameDifficult.width === '8') {\n      mines = 10;\n    } else if (this.props.gameDifficult.width === '16') {\n      mines = 40;\n    } else if (this.props.gameDifficult.width === '30') {\n      mines = 99;\n    }\n\n    let minesArray = [];\n\n    for (let i = 1; i <= mines; i++) {\n      let randomWidth = Math.floor(Math.random() * this.props.gameDifficult.width + 1);\n      let randomHeight = Math.floor(Math.random() * this.props.gameDifficult.height + 1);\n      minesArray.push([randomWidth, randomHeight]);\n    }\n\n    // console.log(minesArray);\n\n    for (let i = 1; i <= this.props.gameDifficult.height; i++) {\n      for (let j = 1; j <= this.props.gameDifficult.width; j++) {\n        let currentCeil = [j, i];\n        let isMine = false; \n        minesArray.forEach((mine) => {\n          if (mine[0] === currentCeil[0] && mine[1] === currentCeil[1]) {\n            isMine = true;\n          }\n        });\n\n        console.log(isMine ? 'mine' : 'noMine')\n\n        ceilArray.push(\n          <Ceil \n            key={Math.random()  * 1000 + j * i}\n            ceilCords={{width: j, heigth: i}}\n            ceilOptions={{\n              mine: isMine\n            }}\n            styleOptions={{width: this.state.ceilSize, height: this.state.ceilSize}}\n          />\n        );\n      }\n    }\n\n    return ceilArray;\n  }\n\n  render () {\n\n    // console.log(this.state);\n    return (\n      <div className='board' style={{width: `${this.state.boardWidth}px`}}>\n\n        {this.getCeil()}\n\n      </div>\n    );\n  }\n}\n\nexport default Board;"]},"metadata":{},"sourceType":"module"}