{"ast":null,"code":"var _jsxFileName = \"/home/devhorse/Main/projects/miner/miner-game/src/board.js\";\nimport React from 'react';\nimport Ceil from './ceil';\n\nclass Board extends React.Component {\n  constructor(props) {\n    super();\n    this.state = {\n      ceils: {},\n      boardWidth: 0,\n      ceilSize: 0\n    };\n\n    this.gameInit = () => {\n      let newCeilSize = 90;\n\n      if (this.props.gameDifficult.width === '16') {\n        newCeilSize = 45;\n      } else if (this.props.gameDifficult.width === '30') {\n        newCeilSize = 35;\n      }\n\n      let newBoardWidth = +this.props.gameDifficult.width * newCeilSize + this.props.gameDifficult.width * 2;\n\n      const getMines = () => {\n        let mines = 0;\n\n        if (this.props.gameDifficult.width === '8') {\n          mines = 10;\n        } else if (this.props.gameDifficult.width === '16') {\n          mines = 40;\n        } else if (this.props.gameDifficult.width === '30') {\n          mines = 99;\n        }\n\n        let minesObject = {};\n\n        for (let i = 1; i <= mines; i++) {\n          let randomWidth = Math.floor(Math.random() * this.props.gameDifficult.width + 1);\n          let randomHeight = Math.floor(Math.random() * this.props.gameDifficult.height + 1);\n          minesObject[randomWidth + '/' + randomHeight] = {\n            mine: true\n          };\n        }\n\n        return minesObject;\n      };\n\n      const getCeils = minesObject => {\n        let ceilsObject = {};\n\n        for (let i = 1; i <= this.props.gameDifficult.height; i++) {\n          for (let j = 1; j <= this.props.gameDifficult.width; j++) {\n            let isMined = minesObject[j + '/' + i] ? true : false;\n            ceilsObject[j + '/' + i] = {\n              cords: [j, i],\n              mined: isMined,\n              minesAround: null,\n              opened: false\n            };\n          }\n        }\n\n        return ceilsObject;\n      };\n\n      const asyncContainer = () => {\n        const minesObj = getMines();\n        const ceilsObj = getCeils(minesObj); // minesArray.forEach((mine) => {\n        //   ceilsObject[mine[0] + '/' + mine[1]].mined = true;      \n        // });\n        // for (let key of Object.keys(ceilsObject)) {\n        //   if (!ceilsObject[key].mined) {\n        //     let col = ceilsObject[key].cords[0];\n        //     let row = ceilsObject[key].cords[1];\n        //   }\n        // }\n\n        this.setState({\n          ceils: ceilsObj,\n          boardWidth: newBoardWidth,\n          ceilSize: newCeilSize\n        });\n      };\n\n      asyncContainer();\n    };\n\n    this.getCeil = () => {\n      let ceilArray = [];\n      let f = 0;\n\n      for (let key of Object.keys(this.state.ceils)) {\n        f = this.state.ceils[key].mined ? f + 1 : f;\n        ceilArray.push( /*#__PURE__*/React.createElement(Ceil, {\n          key: key,\n          ceilCords: key,\n          ceilOptions: this.state.ceils[key],\n          styleOptions: {\n            width: this.state.ceilSize,\n            height: this.state.ceilSize\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 9\n          }\n        }));\n      }\n\n      console.log(f);\n      return ceilArray;\n    };\n  }\n\n  componentDidMount() {\n    if (this.state.boardWidth === 0) {\n      this.gameInit();\n    }\n  }\n\n  render() {\n    // console.log(this.state);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"board\",\n      style: {\n        width: `${this.state.boardWidth}px`\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 7\n      }\n    }, this.state.boardWidth ? this.getCeil() : null);\n  }\n\n}\n\nexport default Board;","map":{"version":3,"sources":["/home/devhorse/Main/projects/miner/miner-game/src/board.js"],"names":["React","Ceil","Board","Component","constructor","props","state","ceils","boardWidth","ceilSize","gameInit","newCeilSize","gameDifficult","width","newBoardWidth","getMines","mines","minesObject","i","randomWidth","Math","floor","random","randomHeight","height","mine","getCeils","ceilsObject","j","isMined","cords","mined","minesAround","opened","asyncContainer","minesObj","ceilsObj","setState","getCeil","ceilArray","f","key","Object","keys","push","console","log","componentDidMount","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Ceil from './ceil';\n\nclass Board extends React.Component {\n  constructor(props) {\n    super();\n  }\n\n  state = {\n    ceils: {},\n    boardWidth: 0,\n    ceilSize: 0\n  }\n\n  componentDidMount() {\n    if (this.state.boardWidth === 0) {\n      this.gameInit();\n    }\n  }\n\n\n\n  gameInit = () => {\n\n    let newCeilSize = 90;\n\n    if (this.props.gameDifficult.width === '16') {\n      newCeilSize = 45;\n    }  else if (this.props.gameDifficult.width === '30') {\n      newCeilSize = 35;\n    }\n  \n    let newBoardWidth = +this.props.gameDifficult.width * newCeilSize + (this.props.gameDifficult.width * 2);\n\n    const getMines = () => {\n      let mines = 0;\n\n      if (this.props.gameDifficult.width === '8') {\n        mines = 10;\n      } else if (this.props.gameDifficult.width === '16') {\n        mines = 40;\n      } else if (this.props.gameDifficult.width === '30') {\n        mines = 99;\n      }\n\n      let minesObject = {};\n\n      for (let i = 1; i <= mines; i++) {\n        let randomWidth = Math.floor(Math.random() * this.props.gameDifficult.width + 1);\n        let randomHeight = Math.floor(Math.random() * this.props.gameDifficult.height + 1);\n        minesObject[randomWidth + '/' + randomHeight] = {\n          mine: true\n        };\n      }\n\n      return minesObject;\n    };\n\n    const getCeils = (minesObject) => {\n      let ceilsObject = {};\n\n      for (let i = 1; i <= this.props.gameDifficult.height; i++) {\n        for (let j = 1; j <= this.props.gameDifficult.width; j++) {\n          let isMined = minesObject[j + '/' + i] ? true : false;\n\n          ceilsObject[j + '/' + i] = {\n            cords: [j, i],\n            mined: isMined,\n            minesAround: null,\n            opened: false\n          };\n        }\n      }\n\n      return ceilsObject;\n    };\n\n\n    const asyncContainer = () => {\n\n      const minesObj = getMines();\n\n      const ceilsObj = getCeils(minesObj);\n    \n      // minesArray.forEach((mine) => {\n      //   ceilsObject[mine[0] + '/' + mine[1]].mined = true;      \n      // });\n\n      // for (let key of Object.keys(ceilsObject)) {\n      //   if (!ceilsObject[key].mined) {\n      //     let col = ceilsObject[key].cords[0];\n      //     let row = ceilsObject[key].cords[1];\n      //   }\n      // }\n\n      this.setState({\n        ceils: ceilsObj,\n        boardWidth: newBoardWidth,\n        ceilSize: newCeilSize\n      })\n    }\n\n    asyncContainer();\n  }\n\n  getCeil = () => {\n    let ceilArray = [];\n    let f = 0;\n    for (let key of Object.keys(this.state.ceils)) {\n      f = this.state.ceils[key].mined ? f + 1 : f;\n      ceilArray.push(\n        <Ceil \n          key={key}\n          ceilCords={key}\n          ceilOptions={this.state.ceils[key]}\n          styleOptions={{width: this.state.ceilSize, height: this.state.ceilSize}}\n        />\n      );\n    }\n\n    console.log(f);\n\n    return ceilArray;\n  }\n\n  render () {\n\n    // console.log(this.state);\n    return (\n      <div className='board' style={{width: `${this.state.boardWidth}px`}}>\n\n        {this.state.boardWidth ? this.getCeil() : null}\n\n      </div>\n    );\n  }\n}\n\nexport default Board;"]},"metadata":{},"sourceType":"module"}